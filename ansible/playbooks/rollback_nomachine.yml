---
# Playbook: rollback_nomachine.yml
# DEPRECATED: This playbook is no longer used as RDP/VNC have been architecturally retired
# NoMachine is the sole remote desktop solution. If NoMachine fails, troubleshoot NoMachine directly.
# This file is kept for historical reference only.

- name: Display deprecation notice
  hosts: localhost
  gather_facts: false
  tags:
    - rollback
    - emergency
  tasks:
    - name: Rollback deprecated
      ansible.builtin.debug:
        msg:
          - "=========================================="
          - "ROLLBACK PLAYBOOK DEPRECATED"
          - "=========================================="
          - ""
          - "⚠️  This playbook is no longer functional"
          - "RDP and VNC have been architecturally retired (2025-11-22)"
          - "NoMachine is the sole remote desktop solution"
          - ""
          - "If NoMachine fails:"
          - "  1. Troubleshoot NoMachine service: systemctl status nxserver (Linux)"
          - "  2. Check firewall rules: ufw status | grep 4000 (Linux)"
          - "  3. Verify Tailscale connectivity: tailscale status"
          - "  4. Check NoMachine logs: journalctl -u nxserver -n 50 (Linux)"
          - ""
          - "For emergency access, use SSH:"
          - "  ssh mdt@{{ inventory_hostname }}.pangolin-vega.ts.net"
          - ""
          - "Reference: docs/product/NEXT_INITIATIVE_PROMPT.md"


