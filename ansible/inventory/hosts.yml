# Ansible Inventory for Infrastructure Devices
# Uses Tailscale hostnames for secure connectivity
# Tailnet: tail2e55fe.ts.net

all:
  children:
    linux:
      hosts:
        motoko:
          ansible_host: motoko.tail2e55fe.ts.net
          ansible_user: mdt
          ansible_become: yes
          ansible_python_interpreter: /usr/bin/python3
          
    windows:
      hosts:
        wintermute:
          ansible_host: wintermute.tail2e55fe.ts.net
          ansible_connection: winrm
          ansible_user: mdt
          # Password set in host_vars/wintermute/password.yml (loaded after vault decryption)
          ansible_port: 5985
          ansible_winrm_transport: ntlm
          ansible_winrm_server_cert_validation: ignore
          gpu:
            vendor: NVIDIA
            model: GeForce RTX 4070 Super
          
        armitage:
          ansible_host: armitage.tail2e55fe.ts.net
          ansible_connection: winrm
          ansible_user: mdt
          # Password set in host_vars/armitage/password.yml (loaded after vault decryption)
          ansible_port: 5985
          ansible_winrm_transport: ntlm
          ansible_winrm_server_cert_validation: ignore
          gpu:
            vendor: NVIDIA
            model: GeForce RTX 4070
          
    macos:
      hosts:
        count-zero:
          ansible_host: count-zero.tail2e55fe.ts.net
          ansible_user: mdt
          ansible_become: yes
          ansible_python_interpreter: /usr/bin/python3

    # Capability-based groupings for targeted playbooks
    gpu_8gb:
      hosts:
        motoko:
        armitage:

    gpu_12gb:
      hosts:
        wintermute:

    wol_enabled:
      hosts:
        motoko:
        armitage:
        wintermute:

    # Remote desktop groups
    tailnet_all:
      children:
        linux_servers:
          hosts:
            motoko:
        windows_servers:
          hosts:
            wintermute:
            armitage:
        workstations:
          hosts:
            motoko:
            wintermute:
            armitage:
            count-zero:

  vars:
    # Global variables for all hosts
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
    backup_server: motoko
    docker_registry: ""