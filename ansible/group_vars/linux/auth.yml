# Copyright (c) 2025 MikeT LLC. All rights reserved.

---
# Authentication and privilege escalation configuration for Linux hosts
# This file configures non-interactive become/sudo

# Enable privilege escalation
ansible_become: true
ansible_become_method: sudo

# Non-interactive become password
# File stored on Motoko control node only (not in git)
# Location: /etc/ansible/.become-pass.txt (mdt:mdt 600)
# Create with: echo 'YOUR_SUDO_PASSWORD' | sudo tee /etc/ansible/.become-pass.txt
# Set permissions: sudo chmod 600 /etc/ansible/.become-pass.txt && sudo chown mdt:mdt /etc/ansible/.become-pass.txt
#
# Note: mdt has passwordless sudo on motoko, so this defaults to empty if file missing
ansible_become_password: "{{ lookup('file', '/etc/ansible/.become-pass.txt', errors='ignore') | default('', true) | trim }}"


