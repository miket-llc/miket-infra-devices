#!/bin/bash
# RDP connection helper script
# Usage: rdp HOSTNAME [OPTIONS]

HOST="${1:-motoko}"
PROTOCOL="rdp"
PORT="3389"

# Use short hostname - Tailscale MagicDNS handles resolution via search domains
TARGET="${HOST}:${PORT}"

# Shift to get remaining arguments
shift 2>/dev/null || true

# Default options
DEFAULT_OPTS="/u:mdt /cert-ignore /gfx:rfx /rfx"

# Run xfreerdp with default options and any additional args
exec xfreerdp ${DEFAULT_OPTS} /v:"${TARGET}" "$@"

