# Copyright (c) 2025 MikeT LLC. All rights reserved.
# Managed by Ansible - do not edit directly
# Cloudflared tunnel configuration for {{ inventory_hostname }}

tunnel: {{ cloudflared_tunnel_id }}
credentials-file: {{ cloudflared_credentials_file }}

ingress:
{% for rule in cloudflared_ingress_rules %}
  - hostname: {{ rule.hostname }}
{% if rule.path is defined %}
    path: {{ rule.path }}
{% endif %}
    service: {{ rule.service }}
{% if rule.originRequest is defined %}
    originRequest:
{% for key, value in rule.originRequest.items() %}
      {{ key }}: {{ value }}
{% endfor %}
{% endif %}
{% endfor %}
  # Catch-all rule (required)
  - service: http_status:404

