---
# Hardware and OS profile for the armitage workstation
# Alienware laptop with high-end GPU for mobile development and gaming

# WinRM credentials (from vault)
ansible_password: "{{ vault_armitage_password }}"

hardware:
  vendor: "Alienware"
  model: "Gaming Laptop"
  cpu:
    model: "Intel Core i9-13900HX"  # High-end mobile CPU typical for Alienware
    cores: 24
    threads: 32
  gpu:
    vendor: "NVIDIA"
    model: "GeForce RTX 4070"
    vram_gb: 8
    driver_version: "latest"
    cuda_capable: true
  memory_gb: 32
  storage:
    - type: "NVMe SSD"
      size_gb: 2048
network:
  interfaces:
    - name: "Wi-Fi"
      type: "wifi"
      mac_address: "{{ vault_armitage_wifi_mac | default('REDACTED') }}"
    - name: "Ethernet"
      type: "ethernet"
      mac_address: "{{ vault_armitage_eth_mac | default('REDACTED') }}"
  tailscale:
    enabled: true
    hostname: "armitage"
os:
  name: "Windows"
  version: "11"
  edition: "Pro"
  build: "22H2"
roles:
  - windows-workstation
  - gaming-mode
  - cuda-development
  - docker-desktop

# Remote desktop configuration
remote_protocol: rdp
remote_port: 3389
restrict_to_tailscale: true

# vLLM Configuration
vllm:
  enabled: true
  model: "Qwen/Qwen2.5-7B-Instruct-AWQ"
  served_model_name: "qwen2.5-7b-armitage"
  port: 8000
  container_name: "vllm-armitage"
  image: "vllm/vllm-openai:latest"
  quantization: "awq"
  max_model_len: 8192
  max_num_seqs: 1
  gpu_memory_utilization: 0.90
  kv_cache_dtype: "fp8"
  tensor_parallel_size: 1
  auto_switch: true
  check_interval_minutes: 5
  idle_threshold_minutes: 5
