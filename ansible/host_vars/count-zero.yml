# Copyright (c) 2025 MikeT LLC. All rights reserved.

---
# Remote desktop configuration for count-zero (macOS workstation)
# NoMachine is the standardized remote access protocol (VNC retired 2025-11-22)
remote_protocol: nomachine
remote_port: 4000
restrict_to_tailscale: true

# NoMachine client settings (this device connects to servers)
nomachine_version: "9.2.18"
nomachine_port: 4000

# ========================================
# AI Fabric Role Assignment (aligns with miket-infra platform contract)
# ========================================
# This node serves: longcontext (large context window fallback)
ai_node_roles:
  - longcontext

# ========================================
# Ollama Configuration (PHC AI Fabric)
# ========================================
# Ollama disabled on count-zero (2025-12)
# Using Claude Code CLI instead for AI assistance
ollama_enabled: false
# ollama_models:
#   - name: yarn-llama2:7b-128k
#     context: 131072

# ========================================
# Monitoring Configuration
# ========================================
# macOS monitoring via Prometheus is a future enhancement
# Currently no node_exporter in this setup for macOS
node_exporter_enabled: false  # Not applicable to macOS

# ========================================
# Nextcloud Permissions Guard
# ========================================
# Auto-corrects overly restrictive permissions (700 dirs, 600 files)
# in local Nextcloud sync directories caused by Obsidian/macOS.
# Runbook: docs/runbooks/nextcloud-permissions-troubleshooting.md
nextcloud_permissions_guard_enabled: true
nextcloud_permissions_guard_user: miket
nextcloud_permissions_guard_sync_roots:
  - "{{ ansible_env.HOME }}/cloud"
